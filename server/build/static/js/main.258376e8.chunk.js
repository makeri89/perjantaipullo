(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n(16),c=n.n(r),i=n(3),u=n(4),s=n.n(u),o=n(5),j=n(6),b=n.n(j),l="/api/participants",O=function(){var t=Object(o.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("".concat(l,"/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(o.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("".concat(l,"/winner/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(o.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post(l,e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=n(0),d=function(t){var e=t.initialWeek,n=Object(a.useState)([]),r=Object(i.a)(n,2),c=r[0],u=r[1],s=Object(a.useState)(""),o=Object(i.a)(s,2),j=o[0],b=o[1],l=Object(a.useState)(0),v=Object(i.a)(l,2),d=v[0],h=v[1],x=Object(a.useState)(e),k=Object(i.a)(x,2),m=k[0],w=k[1];Object(a.useEffect)((function(){O(m).then((function(t){return u(t)}))}),[m]);return Object(f.jsxs)("div",{children:["Viikko: ",Object(f.jsx)("input",{type:"text",value:m,onChange:function(t){w(t.target.value)},id:"week"}),Object(f.jsx)("br",{}),Object(f.jsxs)("h2",{children:["Arvontaan osallistuvat viikolla ",m,":"]}),c.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:t.name})},t._id)})),Object(f.jsx)("button",{onClick:function(){confirm("Haluatko varmasti arpoa voittajan?\nArvonnan voi suorittaa vain kerran.")&&p(m).then((function(t){b(t.name),h(t.prize)}))},children:"Suorita arvonta"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),""!==j?Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"Voittaja on:"}),Object(f.jsx)("h4",{children:j}),"Palkinnon arvo: ",d," euroa"]}):""]})},h=function(){var t=Object(a.useState)(""),e=Object(i.a)(t,2),n=e[0],r=e[1],c=Object(a.useState)(""),u=Object(i.a)(c,2),s=u[0],o=u[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Lis\xe4\xe4 osallistuja"}),Object(f.jsxs)("form",{onSubmit:function(t){t.preventDefault(),v({name:n,week:s}),r(""),o("")},children:["Nimi: ",Object(f.jsx)("input",{type:"text",value:n,onChange:function(t){r(t.target.value)},id:"name",required:!0}),Object(f.jsx)("br",{}),"Viikko: ",Object(f.jsx)("input",{type:"text",value:s,onChange:function(t){o(t.target.value)},id:"week",required:!0}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{type:"submit",children:"Lis\xe4\xe4"})]})]})},x=function(){var t=Object(a.useState)(23),e=Object(i.a)(t,2),n=e[0],r=e[1],c=Object(a.useState)(!0),u=Object(i.a)(c,2),s=u[0],o=u[1];Object(a.useEffect)((function(){var t=new Date;t.setHours(0,0,0,0);var e=new Date(t.getFullYear(),0,1),n=Math.floor((t-e)/864e5),a=Math.round((n+4)/7);r(a)}),[]);var j=function(){o(!s)};return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Perjantaipulloarvonta"}),Object(f.jsx)("button",{onClick:j,children:"Arvonta"}),Object(f.jsx)("button",{onClick:j,children:"Lis\xe4\xe4 osallistuja"}),!0===s?Object(f.jsx)(d,{initialWeek:n}):Object(f.jsx)(h,{})]})};c.a.render(Object(f.jsx)(x,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.258376e8.chunk.js.map