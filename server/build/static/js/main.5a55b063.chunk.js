(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{50:function(t,e,n){"use strict";n.r(e);var a,r,c,i,u,o,s,j,b=n(0),l=n(22),p=n.n(l),O=n(3),d=n(4),x=n(5),f=x.a.h1(a||(a=Object(d.a)(["\n  padding: 15px 0 0 0;\n  margin-bottom: -20px;\n"]))),v=x.a.h2(r||(r=Object(d.a)(["\n  margin: 0 0 -5px 0;\n"]))),h=x.a.h3(c||(c=Object(d.a)(["\n  font-size: 1.5em;\n  margin: -8px;\n"]))),m=x.a.h4(i||(i=Object(d.a)(["\n  font-size: 1.3em;\n  margin: -8px;\n"]))),k=x.a.button(u||(u=Object(d.a)(["\n  color: #e81438;\n  margin: 0 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #e81438;\n  border-radius: 5px;\n  background-color: white;\n"]))),g=x.a.div(o||(o=Object(d.a)(["\n  text-align: center;\n  color: #e81438;\n  font-family: 'Baloo Tammudu 2', cursive;\n  background: papayawhip;\n"]))),w=x.a.input(s||(s=Object(d.a)(["\n  margin: 5px;\n"]))),y=Object(x.a)(w)(j||(j=Object(d.a)(["\n  width: 20px;\n"]))),S=n(6),C=n.n(S),z=n(7),A=n(8),D=n.n(A),L="/api/participants",V=function(){var t=Object(z.a)(C.a.mark((function t(e){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.get("".concat(L,"/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(){var t=Object(z.a)(C.a.mark((function t(e){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.get("".concat(L,"/winner/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(){var t=Object(z.a)(C.a.mark((function t(e){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.post(L,e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=n(1),H=function(t){var e=t.initialWeek,n=Object(b.useState)([]),a=Object(O.a)(n,2),r=a[0],c=a[1],i=Object(b.useState)(""),u=Object(O.a)(i,2),o=u[0],s=u[1],j=Object(b.useState)(0),l=Object(O.a)(j,2),p=l[0],d=l[1],x=Object(b.useState)(e),f=Object(O.a)(x,2),g=f[0],w=f[1];Object(b.useEffect)((function(){V(g).then((function(t){return c(t)}))}),[g]);var S=function(){q(g).then((function(t){s(t.name),d(t.prize)}))};return Object(E.jsxs)("div",{children:["Viikko: ",Object(E.jsx)(y,{as:"input",type:"text",value:g,onChange:function(t){w(t.target.value)},id:"week"}),Object(E.jsx)("br",{}),Object(E.jsxs)(v,{children:["Arvontaan osallistuvat viikolla ",g,":"]}),r.map((function(t){return Object(E.jsx)("div",{children:t.name},t._id)})),Object(E.jsx)(k,{as:"button",onClick:function(){confirm("Haluatko varmasti arpoa voittajan?\nArvonnan voi suorittaa vain kerran.")&&setTimeout(S,3e3)},children:"Suorita arvonta"}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),""!==o?Object(E.jsxs)("div",{children:[Object(E.jsx)(h,{children:"Voittaja on:"}),Object(E.jsx)(m,{children:o}),"Palkinnon arvo: ",p," euroa"]}):""]})},J=function(){var t=Object(b.useState)(""),e=Object(O.a)(t,2),n=e[0],a=e[1],r=Object(b.useState)(""),c=Object(O.a)(r,2),i=c[0],u=c[1];return Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{children:"Lis\xe4\xe4 osallistuja"}),Object(E.jsxs)("form",{onSubmit:function(t){t.preventDefault(),B({name:n,week:i}),a(""),u("")},children:["Nimi: ",Object(E.jsx)(w,{as:"input",type:"text",value:n,onChange:function(t){a(t.target.value)},id:"name",required:!0}),Object(E.jsx)("br",{}),"Viikko: ",Object(E.jsx)(w,{as:"input",type:"text",value:i,onChange:function(t){u(t.target.value)},id:"week",required:!0}),Object(E.jsx)("br",{}),Object(E.jsx)(k,{as:"button",type:"submit",children:"Lis\xe4\xe4"})]})]})},M=function(){var t=Object(b.useState)(!0),e=Object(O.a)(t,2),n=e[0],a=e[1],r=function(){var t=new Date;t.setHours(0,0,0,0);var e=new Date(t.getFullYear(),0,1),n=Math.floor((t-e)/864e5);return Math.round((n+4)/7)}();return Object(E.jsxs)(g,{children:[Object(E.jsx)(f,{children:"Perjantaipulloarvonta"}),Object(E.jsx)(k,{as:"button",onClick:function(){return a(!0)},children:"Arvonta"}),Object(E.jsx)(k,{as:"button",onClick:function(){return a(!1)},children:"Lis\xe4\xe4 osallistuja"}),!0===n?Object(E.jsx)(H,{initialWeek:r}):Object(E.jsx)(J,{})]})};p.a.render(Object(E.jsx)(M,{}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.5a55b063.chunk.js.map