(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{65:function(t,e,n){"use strict";n.r(e);var a,r,i,c,u,s,j,o,b,l,O=n(0),d=n(33),p=n.n(d),x=n(15),h=n(2),v=n(5),f=n(10),m=n(11),k=m.a.h1(a||(a=Object(f.a)(["\n  margin: 0 0 -10px 0;\n"]))),g=m.a.h2(r||(r=Object(f.a)(["\n  margin: 0 0 -5px 0;\n"]))),w=m.a.h3(i||(i=Object(f.a)(["\n  font-size: 1.5em;\n  margin: -8px;\n"]))),y=m.a.h4(c||(c=Object(f.a)(["\n  font-size: 1.3em;\n  margin: -8px;\n"]))),S=m.a.button(u||(u=Object(f.a)(["\n  color: #e81438;\n  margin: 0 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #e81438;\n  border-radius: 5px;\n  background-color: white;\n"]))),C=m.a.div(s||(s=Object(f.a)(["\n  text-align: center;\n  color: #e81438;\n  font-family: 'Baloo Tammudu 2', cursive;\n  background: papayawhip;\n"]))),z=m.a.input(j||(j=Object(f.a)(["\n  margin: 5px;\n"]))),D=Object(m.a)(z)(o||(o=Object(f.a)(["\n  width: 20px;\n"]))),V=m.a.div(b||(b=Object(f.a)(["\n  z-index: 1;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background: papayawhip;\n"]))),q=m.a.div(l||(l=Object(f.a)(["\n  margin: 5% auto;\n  padding: 10px;\n  border: 2px solid #e81438;\n  width: 40%;\n  border-radius: 5px;\n"]))),A=n(4),W=n.n(A),E=n(12),L=n(13),P=n.n(L),B="/api/participants",H=function(){var t=Object(E.a)(W.a.mark((function t(e){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.get("".concat(B,"/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=Object(E.a)(W.a.mark((function t(e){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.post(B,e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=n(1),_=function(t){var e=t.initialWeek,n=Object(O.useState)([]),a=Object(v.a)(n,2),r=a[0],i=a[1],c=Object(O.useState)(e),u=Object(v.a)(c,2),s=u[0],j=u[1];Object(O.useEffect)((function(){H(s).then((function(t){return i(t)}))}),[s]);return Object(M.jsxs)("div",{children:["Viikko: ",Object(M.jsx)(D,{as:"input",type:"text",value:s,onChange:function(t){j(t.target.value)},id:"week"}),Object(M.jsx)("br",{}),Object(M.jsxs)(g,{children:["Arvontaan osallistuvat viikolla ",s,":"]}),r.map((function(t){return Object(M.jsx)("div",{children:t.name},t._id)}))]})},F=function(){var t=Object(O.useState)(""),e=Object(v.a)(t,2),n=e[0],a=e[1],r=Object(O.useState)(""),i=Object(v.a)(r,2),c=i[0],u=i[1];return Object(M.jsxs)("div",{children:[Object(M.jsx)("h2",{children:"Lis\xe4\xe4 osallistuja"}),Object(M.jsxs)("form",{onSubmit:function(t){t.preventDefault(),J({name:n,week:c}),a(""),u("")},children:["Nimi: ",Object(M.jsx)(z,{as:"input",type:"text",value:n,onChange:function(t){a(t.target.value)},id:"name",required:!0}),Object(M.jsx)("br",{}),"Viikko: ",Object(M.jsx)(z,{as:"input",type:"text",value:c,onChange:function(t){u(t.target.value)},id:"week",required:!0}),Object(M.jsx)("br",{}),Object(M.jsx)(S,{as:"button",type:"submit",children:"Lis\xe4\xe4"})]})]})},I="/api/winner",N=function(){var t=Object(E.a)(W.a.mark((function t(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.get(I);case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=Object(E.a)(W.a.mark((function t(e,n){var a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.post(I,{week:e,prize:n});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Y=function(){var t=Object(O.useState)([]),e=Object(v.a)(t,2),n=e[0],a=e[1];return Object(O.useEffect)((function(){N().then((function(t){return a(t)}))}),[]),Object(M.jsxs)("div",{children:[Object(M.jsx)(g,{children:"Aiemmat voittajat"}),n.map((function(t){return Object(M.jsxs)("div",{children:[Object(M.jsxs)(y,{children:["Viikko ",t.week,":"]}),Object(M.jsx)("strong",{children:t.name})," ",Object(M.jsx)("br",{}),"palkinto: ",t.prize.name,", ",t.prize.price," euroa"]},t._id)}))]})},G=function(t){var e=t.winner,n=Object(h.f)();if(null===e)return Object(M.jsx)("div",{});return Object(M.jsx)(V,{children:Object(M.jsxs)(q,{children:[Object(M.jsx)(g,{children:"Voittaja on:"}),Object(M.jsx)(y,{children:e.name}),Object(M.jsx)(S,{as:"button",onClick:function(t){t.preventDefault(),n.push("/voittajat")},children:"Ok"})]})})},K=function(t){var e=t.initialWeek,n=Object(O.useState)(e),a=Object(v.a)(n,2),r=a[0],i=a[1],c=Object(O.useState)(""),u=Object(v.a)(c,2),s=u[0],j=u[1],o=Object(O.useState)(0),b=Object(v.a)(o,2),l=b[0],d=b[1],p=Object(O.useState)(null),x=Object(v.a)(p,2),h=x[0],f=x[1],m=Object(O.useState)(!1),k=Object(v.a)(m,2),g=k[0],y=k[1],C=function(){T(r,{name:s,price:l}).then((function(t){return f(t)})),j(""),d(0),y(!0)};return Object(M.jsxs)("div",{children:[Object(M.jsx)(w,{children:"Arvonta"}),Object(M.jsxs)("form",{onSubmit:function(t){t.preventDefault(),confirm("Haluatko varmasti arpoa voittajan?\nArvonnan voi suorittaa vain kerran.")&&C()},children:["Viikko: ",Object(M.jsx)(D,{as:"input",value:r,onChange:function(t){i(t.target.value)},id:"week",required:!0}),Object(M.jsx)("br",{}),"Palkinto: ",Object(M.jsx)(z,{as:"input",value:s,onChange:function(t){j(t.target.value)},id:"name",required:!0}),Object(M.jsx)("br",{}),"Palkinnon arvo: ",Object(M.jsx)(z,{as:"input",value:l,onChange:function(t){d(t.target.value)},id:"value",required:!0}),Object(M.jsx)("br",{}),Object(M.jsx)(S,{as:"button",type:"submit",children:"Suorita arvonta"})]}),!0===g?Object(M.jsx)(G,{winner:h}):""]})},Q=function(){var t={padding:5,color:"#e81438",textDecoration:"none",margin:"1em",fontWeight:600},e=function(){var t=new Date;t.setHours(0,0,0,0);var e=new Date(t.getFullYear(),0,1),n=Math.floor((t-e)/864e5);return Math.round((n+4)/7)}();return Object(M.jsx)(C,{children:Object(M.jsxs)(x.a,{children:[Object(M.jsx)(x.b,{style:t,to:"/",children:"Etusivu"}),Object(M.jsx)(x.b,{style:t,to:"/arvonta",children:"Arvonta"}),Object(M.jsx)(x.b,{style:t,to:"/voittajat",children:"Voittajat"}),Object(M.jsx)(x.b,{style:t,to:"/osallistuja",children:"Lis\xe4\xe4 osallistuja"}),Object(M.jsx)(k,{children:"Perjantaipulloarvonta"}),Object(M.jsxs)(h.c,{children:[Object(M.jsx)(h.a,{path:"/arvonta",children:Object(M.jsx)(K,{initialWeek:e})}),Object(M.jsx)(h.a,{path:"/voittajat",children:Object(M.jsx)(Y,{})}),Object(M.jsx)(h.a,{path:"/osallistuja",children:Object(M.jsx)(F,{})}),Object(M.jsx)(h.a,{path:"/",children:Object(M.jsx)(_,{initialWeek:e})})]})]})})};p.a.render(Object(M.jsx)(Q,{}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.79a5617a.chunk.js.map