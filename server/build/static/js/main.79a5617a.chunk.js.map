{"version":3,"sources":["components/styled.js","services/participants.jsx","components/WeeklyList.jsx","components/ParticipantForm.jsx","services/winners.js","components/WinnerList.jsx","components/WinnerModal.jsx","components/LotteryForm.jsx","App.jsx","index.js"],"names":["Title","styled","h1","SubTitle","h2","H3","h3","H4","h4","Button","button","Root","div","Input","input","WeekInput","Modal","ModalContent","baseUrl","getByWeek","week","a","axios","get","response","data","addNew","participant","post","WeeklyList","initialWeek","useState","participants","setParticipants","setWeek","useEffect","then","result","as","type","value","onChange","e","target","id","map","p","name","_id","ParticipantForm","setName","onSubmit","preventDefault","required","getWinners","addWinner","prize","WinnerList","winners","setWinners","winner","price","WinnerModal","history","useHistory","onClick","push","LotteryForm","prizeName","setPrizeName","prizeValue","setPrizeValue","setWinner","modalOpen","setModalOpen","performLottery","confirm","App","linkStyle","padding","color","textDecoration","margin","fontWeight","date","Date","setHours","yearFirst","getFullYear","days","Math","floor","round","getCurrentWeek","style","to","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.79a5617a.chunk.js","sourcesContent":["import styled from 'styled-components'\n\nexport const Title = styled.h1`\n  margin: 0 0 -10px 0;\n`\n\nexport const SubTitle = styled.h2`\n  margin: 0 0 -5px 0;\n`\n\nexport const H3 = styled.h3`\n  font-size: 1.5em;\n  margin: -8px;\n`\n\nexport const H4 = styled.h4`\n  font-size: 1.3em;\n  margin: -8px;\n`\n\nexport const Button = styled.button`\n  color: #e81438;\n  margin: 0 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #e81438;\n  border-radius: 5px;\n  background-color: white;\n`\n\nexport const Root = styled.div`\n  text-align: center;\n  color: #e81438;\n  font-family: 'Baloo Tammudu 2', cursive;\n  background: papayawhip;\n`\n\nexport const Input = styled.input`\n  margin: 5px;\n`\n\nexport const WeekInput = styled(Input)`\n  width: 20px;\n`\nexport const Modal = styled.div`\n  z-index: 1;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background: papayawhip;\n`\n\nexport const ModalContent = styled.div`\n  margin: 5% auto;\n  padding: 10px;\n  border: 2px solid #e81438;\n  width: 40%;\n  border-radius: 5px;\n`","import axios from 'axios'\nconst baseUrl = '/api/participants'\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst getByWeek = async (week) => {\n  const response = await axios.get(`${baseUrl}/${week}`)\n  return response.data\n}\n\nconst getWeek = async () => {\n  const response = await axios.get('api/currentweek')\n  return response.data\n}\n\nconst addNew = async (participant) => {\n  const response = await axios.post(baseUrl, participant)\n  return response.data\n}\n\nexport {\n  getAll,\n  getByWeek,\n  getWeek,\n  addNew\n}\n","/* eslint-disable indent */\nimport React, { useState, useEffect } from 'react'\n\nimport { SubTitle, WeekInput } from '../components/styled'\nimport { getByWeek } from '../services/participants'\n\nconst WeeklyList = ({ initialWeek }) => {\n  const [participants, setParticipants] = useState([])\n  const [week, setWeek] = useState(initialWeek)\n\n  useEffect(() => {\n    getByWeek(week).then(result => setParticipants(result))\n  }, [week])\n\n  const handleWeekChange = (e) => {\n    setWeek(e.target.value)\n  }\n\n  return (\n    <div>\n      Viikko: <WeekInput as='input' type='text' value={week} onChange={handleWeekChange} id='week' /><br/>\n      <SubTitle>Arvontaan osallistuvat viikolla {week}:</SubTitle>\n      {participants.map(p => (\n        <div key={p._id}>\n          {p.name}\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default WeeklyList","import React, { useState } from 'react'\n\nimport { Button, Input } from '../components/styled'\nimport { addNew } from '../services/participants'\n\nconst ParticipantForm = () => {\n  const [name, setName] = useState('')\n  const [week, setWeek] = useState('')\n\n  const handleNameChange = (e) => {\n    setName(e.target.value)\n  }\n\n  const handleWeekChange = (e) => {\n    setWeek(e.target.value)\n  }\n\n  const addParticipant = (e) => {\n    e.preventDefault()\n    addNew({ name, week })\n    setName('')\n    setWeek('')\n  }\n\n  return (\n    <div>\n      <h2>Lisää osallistuja</h2>\n      <form onSubmit={addParticipant}>\n        Nimi: <Input as='input' type='text' value={name} onChange={handleNameChange} id='name' required /><br/>\n        Viikko: <Input as='input' type='text' value={week} onChange={handleWeekChange} id='week' required /><br/>\n        <Button as='button' type='submit'>Lisää</Button>\n      </form>\n    </div>\n  )\n}\n\nexport default ParticipantForm","import axios from 'axios'\nconst baseUrl = '/api/winner'\n\nconst getWinners = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst getWinner = async (week) => {\n  const response = await axios.get(`$baseUrl/${week}`)\n  return response.data\n}\n\nconst addWinner = async (week, prize) => {\n  const response = await axios.post(baseUrl, { week, prize })\n  return response.data\n}\n\nexport {\n  getWinners,\n  getWinner,\n  addWinner\n}","import React, { useState, useEffect } from 'react'\n\nimport { getWinners } from '../services/winners'\nimport { SubTitle, H4 } from './styled'\n\nconst WinnerList = () => {\n  const [winners, setWinners] = useState([])\n\n  useEffect(() => {\n    getWinners().then(result => setWinners(result))\n  }, [])\n\n  return (\n    <div>\n      <SubTitle>Aiemmat voittajat</SubTitle>\n      {winners.map(winner => (\n        <div key={winner._id}>\n          <H4>Viikko {winner.week}:</H4>\n          <strong>{winner.name}</strong> <br />\n          palkinto: {winner.prize.name}, {winner.prize.price} euroa\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default WinnerList\n","import React from 'react'\n\nimport { useHistory } from 'react-router-dom'\nimport { Modal, ModalContent, SubTitle, H4, Button } from './styled'\n\nconst WinnerModal = ({ winner }) => {\n  const history = useHistory()\n  if (winner === null) {\n    return <div></div>\n  }\n\n  const handleClick = (e) => {\n    e.preventDefault()\n    history.push('/voittajat')\n  }\n\n  return (\n    <Modal>\n      <ModalContent>\n        <SubTitle>Voittaja on:</SubTitle>\n        <H4>{winner.name}</H4>\n        <Button as='button' onClick={handleClick}>Ok</Button>\n      </ModalContent>\n    </Modal>\n  )\n}\n\nexport default WinnerModal","import React, { useState } from 'react'\n\nimport { addWinner } from '../services/winners'\nimport WinnerModal from './WinnerModal'\nimport { WeekInput, Input, Button, H3 } from './styled'\n\nconst LotteryForm = ({ initialWeek }) => {\n  const [week, setWeek] = useState(initialWeek)\n  const [prizeName, setPrizeName] = useState('')\n  const [prizeValue, setPrizeValue] = useState(0)\n  const [winner, setWinner] = useState(null)\n  const [modalOpen, setModalOpen] = useState(false)\n\n  const handleWeekChange = (e) => {\n    setWeek(e.target.value)\n  }\n\n  const handleNameChange = (e) => {\n    setPrizeName(e.target.value)\n  }\n\n  const handleValueChange = (e) => {\n    setPrizeValue(e.target.value)\n  }\n\n  const confirmLottery = (e) => {\n    e.preventDefault()\n    if (confirm('Haluatko varmasti arpoa voittajan?\\nArvonnan voi suorittaa vain kerran.')) {\n      performLottery()\n    }\n  }\n\n  const performLottery = () => {\n    const prize = { name: prizeName, price: prizeValue }\n    addWinner(week, prize).then(result => setWinner(result))\n    setPrizeName('')\n    setPrizeValue(0)\n    setModalOpen(true)\n  }\n\n  return (\n    <div>\n      <H3>Arvonta</H3>\n      <form onSubmit={confirmLottery}>\n        Viikko: <WeekInput as='input' value={week} onChange={handleWeekChange} id='week' required /><br/>\n        Palkinto: <Input as='input' value={prizeName} onChange={handleNameChange} id='name' required /><br/>\n        Palkinnon arvo: <Input as='input' value={prizeValue} onChange={handleValueChange} id='value' required /><br/>\n        <Button as='button' type='submit'>Suorita arvonta</Button>\n      </form>\n      {modalOpen === true\n        ? <WinnerModal winner={winner} />\n        : ''\n      }\n    </div>\n  )\n}\n\nexport default LotteryForm","import React from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch, Route, Link\n} from 'react-router-dom'\nimport WeeklyList from './components/WeeklyList'\nimport ParticipantForm from './components/ParticipantForm'\nimport WinnerList from './components/WinnerList'\nimport LotteryForm from './components/LotteryForm'\nimport { Title, Root } from './components/styled'\n\nconst App = () => {\n  const linkStyle = {\n    padding: 5,\n    color: '#e81438',\n    textDecoration: 'none',\n    margin: '1em',\n    fontWeight: 600\n  }\n\n  const getCurrentWeek = () => {\n    const date = new Date()\n    date.setHours(0,0,0,0) // sets new date to midnight\n    const yearFirst = new Date(date.getFullYear(), 0, 1)\n    const days = Math.floor((date - yearFirst) / (1000 * 60 * 60 * 24))\n    const currentWeek = Math.round((days + 4) / 7) // adding 4 starts a new week on saturday\n    return currentWeek\n  }\n\n  const week = getCurrentWeek()\n\n  return (\n    <Root>\n      <Router>\n        <Link style={linkStyle} to='/'>Etusivu</Link>\n        <Link style={linkStyle} to='/arvonta'>Arvonta</Link>\n        <Link style={linkStyle} to='/voittajat'>Voittajat</Link>\n        <Link style={linkStyle} to='/osallistuja'>Lisää osallistuja</Link>\n        <Title>Perjantaipulloarvonta</Title>\n        <Switch>\n          <Route path='/arvonta'>\n            <LotteryForm initialWeek={week} />\n          </Route>\n          <Route path='/voittajat'>\n            <WinnerList />\n          </Route>\n          <Route path='/osallistuja'>\n            <ParticipantForm />\n          </Route>\n          <Route path='/'>\n            <WeeklyList initialWeek={week} />\n          </Route>\n        </Switch>\n      </Router>\n    </Root>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}