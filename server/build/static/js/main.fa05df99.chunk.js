(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(16),c=n.n(a),i=n(3),u=n(4),s=n.n(u),j=n(5),o=n(6),b=n.n(o),l="/api/participants",O=function(){var t=Object(j.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("".concat(l,"/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(j.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("".concat(l,"/winner/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(j.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post(l,e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=n(0),h=function(t){var e=t.initialWeek,n=Object(r.useState)([]),a=Object(i.a)(n,2),c=a[0],u=a[1],s=Object(r.useState)(""),j=Object(i.a)(s,2),o=j[0],b=j[1],l=Object(r.useState)(e),f=Object(i.a)(l,2),h=f[0],x=f[1];Object(r.useEffect)((function(){O(h).then((function(t){return u(t)}))}),[h]);return Object(d.jsxs)("div",{children:["Viikko: ",Object(d.jsx)("input",{type:"text",value:h,onChange:function(t){x(t.target.value)},id:"week"}),Object(d.jsx)("br",{}),Object(d.jsxs)("h2",{children:["Arvontaan osallistuvat viikolla ",h,":"]}),c.map((function(t){return Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:t.name})},t._id)})),Object(d.jsx)("button",{onClick:function(){p(h).then((function(t){return b(t.name)}))},children:"Suorita arvonta"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("h3",{children:"Voittaja on:"}),o]})},x=function(){var t=Object(r.useState)(""),e=Object(i.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)(""),u=Object(i.a)(c,2),s=u[0],j=u[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Lis\xe4\xe4 osallistuja"}),Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault(),f({name:n,week:s}),a(""),j("")},children:["Nimi: ",Object(d.jsx)("input",{type:"text",value:n,onChange:function(t){a(t.target.value)},id:"name",required:!0}),Object(d.jsx)("br",{}),"Viikko: ",Object(d.jsx)("input",{type:"text",value:s,onChange:function(t){j(t.target.value)},id:"week",required:!0}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"submit",children:"Lis\xe4\xe4"})]})]})},v=function(){var t=Object(r.useState)(0),e=Object(i.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)(!0),u=Object(i.a)(c,2),s=u[0],j=u[1];Object(r.useEffect)((function(){var t=new Date;t.setHours(0,0,0,0);var e=new Date(t.getFullYear(),0,1),n=Math.floor((t-e)/864e5),r=Math.round((n+4)/7);a(r)}),[]);var o=function(){j(!s)};return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Perjantaipulloarvonta"}),Object(d.jsx)("button",{onClick:o,children:"Arvonta"}),Object(d.jsx)("button",{onClick:o,children:"Lis\xe4\xe4 osallistuja"}),!0===s?Object(d.jsx)(h,{initialWeek:n}):Object(d.jsx)(x,{})]})};c.a.render(Object(d.jsx)(v,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.fa05df99.chunk.js.map